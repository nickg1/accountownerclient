{"version":3,"sources":["store/actions/errorHandlerActions.js","axios/axios.js","store/actions/repositoryActions.js","components/Modals/SuccessModal/SuccessModal.js","components/Modals/ErrorModal/ErrorModal.js","UI/Inputs/Input.js","Utility/InputConfiguration.js","Utility/FormUtility.js","containers/Owner/UpdateOwner/UpdateOwner.js"],"names":["closeErrorModal","type","actionTypes","handleHTTPError","error","props","console","log","response","status","execute404Handler","execute500Handler","executeOtherErrorHandler","instance","axios","create","baseURL","headers","headerType","getData","url","dispatch","get","then","data","catch","errorHandlerActions","postData","obj","post","postDataSuccess","putData","put","putDataSuccess","deleteData","delete","deleteDataSuccess","closeSuccessModal","SuccessModal","show","backdrop","Header","modalHeaderText","Body","modalBodyText","Footer","bsStyle","onClick","successClick","okButtonText","ErrorModal","closeModal","input","inputField","errorMessage","invalid","shouldValidate","touched","elementType","controlId","id","componentClass","ControlLabel","sm","label","value","onChange","changed","onBlur","blur","selected","dateFormat","readOnly","className","showYearDropdown","dropdownMode","returnInputConfiguration","name","element","validation","required","maxLength","valid","address","dateOfBirth","moment","convertStateToArrayOfFormObjects","formObject","formElementsArray","key","push","config","executeValidationAndReturnFormElement","event","updatedOwnerForm","formElement","target","validationResponse","validationObject","isValid","trim","length","checkValidity","countInvalidElements","ownerForm","UpdateOwner","state","isFormValid","componentWillMount","setState","componentDidMount","match","params","onGetOwnerById","componentWillReceiveProps","nextProps","nameObject","dateObject","addressObject","handleChangeEvent","formUtilityActions","counter","redirectToOwnerList","history","updateOwner","preventDefault","ownerToUpdate","onUpdateOwner","this","horizontal","onSubmit","map","mdOffset","md","disabled","showSuccessModal","onCloseSuccessModal","showErrorModal","onCloseErrorModal","Component","connect","repository","errorHandler","repositoryActions","owner"],"mappings":"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","file":"static/js/7.42546cf2.chunk.js","sourcesContent":["import * as actionTypes from './actionTypes';\r\n\r\nconst execute404Handler = (props) => {\r\n    console.log(404-2);\r\n\r\n    return {\r\n        type: actionTypes.HTTP_404_ERROR,\r\n        props: props\r\n    }\r\n}\r\n\r\nconst execute500Handler = (props) => {\r\n    return {\r\n        type: actionTypes.HTTP_500_ERROR,\r\n        props: props\r\n    }\r\n}\r\n\r\nconst executeOtherErrorHandler = (error) => {\r\n    return {\r\n        type: actionTypes.HTTP_OTHER_ERROR,\r\n        error: error\r\n    }\r\n}\r\nexport const closeErrorModal = () => {\r\n    return {\r\n        type: actionTypes.CLOSE_ERROR_MODAL\r\n    }\r\n}\r\n\r\nexport const handleHTTPError = (error, props) => {\r\n    console.log(error);\r\n    if (error.response.status === 404) {\r\n        console.log(404);\r\n\r\n        return execute404Handler(props);\r\n    }\r\n    else if (error.response.status === 500) {\r\n        return execute500Handler(props);\r\n    }\r\n    else {\r\n        return executeOtherErrorHandler(error);\r\n    }\r\n}","import axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n    // baseURL: 'http://localhost:5000',\r\n    baseURL: 'http://brokerage.herokuapp.com',\r\n\r\n    headers: {\r\n        headerType: 'example header type'\r\n    }\r\n});\r\n\r\nexport default instance;","import * as actionTypes from './actionTypes';\r\nimport axios from '../../axios/axios';\r\nimport * as errorHandlerActions from './errorHandlerActions';\r\nconst getDataSuccess = (data) => {\r\n    return {\r\n        type: actionTypes.GET_DATA_SUCCESS,\r\n        data: data\r\n    }\r\n}\r\nexport const getData = (url, props) => {\r\n    return (dispatch) => {\r\n        axios.get(url)\r\n        .then(response => {\r\n            dispatch(getDataSuccess(response.data));\r\n        })\r\n        .catch(error => {\r\n            dispatch(errorHandlerActions.handleHTTPError(error, props));\r\n        })\r\n    }\r\n}\r\nconst postDataSuccess = (response) => {\r\n    return {\r\n        type: actionTypes.POST_DATA_SUCCESS,\r\n        response: response\r\n    }\r\n}\r\nexport const postData = (url, obj, props) => {\r\n    return (dispatch) => {\r\n        axios.post(url, obj)\r\n        .then(response => {\r\n            dispatch(postDataSuccess(response));\r\n        })\r\n        .catch(error => {\r\n            dispatch(errorHandlerActions.handleHTTPError(error, props));\r\n        })\r\n    }\r\n}\r\nconst putDataSuccess = (response) => {\r\n    return {\r\n        type: actionTypes.PUT_DATA_SUCCESS,\r\n        response: response\r\n    }\r\n}\r\nexport const putData = (url, obj, props) => {\r\n    return (dispatch) => {\r\n        axios.put(url, obj)\r\n        .then(response => {\r\n            dispatch(putDataSuccess(response));\r\n        })\r\n        .catch(error => {\r\n            dispatch(errorHandlerActions.handleHTTPError(error, props));\r\n        })\r\n    }\r\n}\r\nconst deleteDataSuccess = (response) => {\r\n    return {\r\n        type: actionTypes.DELETE_DATA_SUCCESS,\r\n        response: response\r\n    }\r\n}\r\nexport const deleteData = (url, props) => {\r\n    return (dispatch) => {\r\n        axios.delete(url)\r\n        .then(response => {\r\n            dispatch(deleteDataSuccess(response));\r\n        })\r\n        .catch(error => {\r\n            console.log(\"error\", error);\r\n            dispatch(errorHandlerActions.handleHTTPError(error, props));\r\n        })\r\n    }\r\n}\r\nexport const closeSuccessModal = (url, props) =>{\r\n    return {\r\n        type: actionTypes.CLOSE_SUCCESS_MODAL,\r\n        props: props,\r\n        url: url\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport { Modal, Button } from 'react-bootstrap';\r\nimport '../ModalStyles.css';\r\n\r\nconst SuccessModal = (props) => {\r\n    return (\r\n        <>\r\n            <Modal show={props.show} backdrop='static'>\r\n                <Modal.Header>\r\n                    {props.modalHeaderText}\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                    <p>{props.modalBodyText}</p>\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button bsStyle=\"success\" onClick={props.successClick}>{props.okButtonText}</Button>\r\n                </Modal.Footer>\r\n            </Modal>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default SuccessModal;","import React from 'react';\r\nimport { Modal, Button } from 'react-bootstrap';\r\nimport '../ModalStyles.css';\r\n\r\nconst ErrorModal = (props) => {\r\n    return (\r\n        <>\r\n            <Modal show={props.show} backdrop='static'>\r\n                <Modal.Header>\r\n                    {props.modalHeaderText}\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                    <p>{props.modalBodyText}</p>\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button bsStyle=\"danger\" onClick={props.closeModal}>{props.okButtonText}</Button>\r\n                </Modal.Footer>\r\n            </Modal>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ErrorModal;","import React from 'react';\r\nimport { FormGroup, Col, FormControl, ControlLabel } from 'react-bootstrap';\r\nimport DatePicker from 'react-datepicker';\r\nimport 'react-datepicker/dist/react-datepicker.css';\r\nimport './Input.css';\r\n\r\nconst input = (props) => {\r\n    let inputField = null;\r\n    let errorMessage = null;\r\n\r\n    if(props.invalid && props.shouldValidate && props.touched){\r\n        errorMessage = (<em>{props.errorMessage}</em>);\r\n    }\r\n    switch (props.elementType) {\r\n        case 'input':\r\n            inputField = (\r\n                <FormGroup controlId={props.id}>\r\n                    <Col componentClass={ControlLabel} sm={2}>\r\n                        {props.label}\r\n                    </Col>\r\n                    <Col sm={6}>\r\n                        <FormControl type={props.type} value={props.value} onChange={props.changed} onBlur={props.blur} />\r\n                    </Col>\r\n                    <Col>\r\n                        <em>{errorMessage}</em>\r\n                    </Col>\r\n                </FormGroup>\r\n            )\r\n            break;\r\n        case 'datePicker':\r\n            inputField = (\r\n                <FormGroup controlId={props.id}>\r\n                    <Col componentClass={ControlLabel} sm={2}>\r\n                        {props.label}\r\n                    </Col>\r\n                    <Col sm={6}>\r\n                        <DatePicker selected={props.value} dateFormat=\"MM/DD/YYYY\" readOnly\r\n                            onChange={props.changed} className='datePickerControl'\r\n                            showYearDropdown dropdownMode=\"select\"/>\r\n                    </Col>\r\n                    <Col>\r\n                        <em>{errorMessage}</em>\r\n                    </Col>\r\n                </FormGroup>\r\n            )\r\n            break;\r\n        default: inputField = null;\r\n    }\r\n    return (\r\n        <>\r\n            {inputField}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default input;","import moment from 'moment';\r\n\r\nexport const returnInputConfiguration = () => {\r\n    return {\r\n        name: {\r\n            element: 'input', type: 'text', value: '',\r\n            validation: { required: true, maxLength: 60 }, valid: false, touched: false,\r\n            errorMessage: '', label: 'Name:'\r\n        },\r\n        address: {\r\n            element: 'input', type: 'text', value: '',\r\n            validation: { required: true, maxLength: 100 }, valid: false, touched: false,\r\n            errorMessage: '', label: 'Address:'\r\n        },\r\n        dateOfBirth: {\r\n            element: 'datePicker', type: 'text', value: moment(),\r\n            valid: true, touched: false,\r\n            errorMessage: '', label: 'Date of birth:'\r\n        }\r\n    }\r\n}","export const convertStateToArrayOfFormObjects = (formObject) => {\r\n    const formElementsArray = [];\r\n    for (let key in formObject) {\r\n        formElementsArray.push({\r\n            id: key,\r\n            config: formObject[key]\r\n        });\r\n    }\r\n\r\n    return formElementsArray;\r\n}\r\nconst checkValidity = (value, validation) => {\r\n    let validationObject = {\r\n        isValid: true,\r\n        errorMessage: ''\r\n    };\r\n\r\n    if (validation) {\r\n        if (validation.required) {\r\n            validationObject.isValid = value.trim() !== '';\r\n            validationObject.errorMessage = validationObject.isValid ? '' : 'Field is required';\r\n        }\r\n\r\n        if (validationObject.isValid && validation.maxLength) {\r\n            validationObject.isValid = value.length <= validation.maxLength;\r\n            validationObject.errorMessage = validationObject.isValid ? '' : `Not allowed more than ${validation.maxLength} characters`;\r\n        }\r\n\r\n        return validationObject;\r\n    }\r\n    else {\r\n        return validationObject;\r\n    }\r\n}\r\nexport const executeValidationAndReturnFormElement = (event, updatedOwnerForm, id) => {\r\n    let formElement = { ...updatedOwnerForm[id] };\r\n    formElement.value = id === 'dateOfBirth' ? event : event.target.value;\r\n    formElement.touched = true;\r\n\r\n    const validationResponse = checkValidity(formElement.value, formElement.validation);\r\n\r\n    formElement.valid = validationResponse.isValid;\r\n    formElement.errorMessage = validationResponse.errorMessage;\r\n\r\n    return formElement;\r\n}\r\nexport const countInvalidElements = (ownerForm) => {\r\n    let countInvalidElements = 0;\r\n    for (let element in ownerForm) {\r\n        if (!ownerForm[element].valid) {\r\n            countInvalidElements = countInvalidElements + 1;\r\n            break;\r\n        }\r\n    }\r\n    return countInvalidElements;\r\n}","import React, { Component } from 'react';\r\nimport { Form, Well, Button, FormGroup, Col } from 'react-bootstrap';\r\nimport { returnInputConfiguration } from '../../../Utility/InputConfiguration';\r\nimport * as formUtilityActions from '../../../Utility/FormUtility';\r\nimport Input from '../../../UI/Inputs/Input';\r\nimport * as repositoryActions from '../../../store/actions/repositoryActions';\r\nimport * as errorHandlerActions from '../../../store/actions/errorHandlerActions';\r\nimport { connect } from 'react-redux';\r\nimport moment from 'moment';\r\nimport SuccessModal from '../../../components/Modals/SuccessModal/SuccessModal';\r\nimport ErrorModal from '../../../components/Modals/ErrorModal/ErrorModal';\r\n\r\nclass UpdateOwner extends Component {\r\n    state = {\r\n        ownerForm: {},\r\n        isFormValid: true\r\n    }\r\n\r\n    componentWillMount = () => {\r\n        this.setState({ ownerForm: returnInputConfiguration() });\r\n    }\r\n    componentDidMount = () => {\r\n        const id = this.props.match.params.id;\r\n        const url = '/api/owner/' + id;\r\n        this.props.onGetOwnerById(url, { ...this.props });\r\n    }\r\n    componentWillReceiveProps = (nextProps) => {\r\n        const updatedOwnerForm = { ...this.state.ownerForm };\r\n        let nameObject = { ...updatedOwnerForm.name };\r\n        let dateObject = { ...updatedOwnerForm.dateOfBirth };\r\n        let addressObject = { ...updatedOwnerForm.address };\r\n    \r\n        nameObject.value = nextProps.data.name;\r\n        nameObject.valid = true;\r\n        dateObject.value = moment(nextProps.data.dateOfBirth);\r\n        addressObject.value = nextProps.data.address;\r\n        addressObject.valid = true;\r\n    \r\n        updatedOwnerForm['name'] = nameObject;\r\n        updatedOwnerForm['dateOfBirth'] = dateObject;\r\n        updatedOwnerForm['address'] = addressObject;\r\n        this.setState({ ownerForm: updatedOwnerForm });\r\n    }\r\n    handleChangeEvent = (event, id) => {\r\n        const updatedOwnerForm = { ...this.state.ownerForm };\r\n        updatedOwnerForm[id] = formUtilityActions.executeValidationAndReturnFormElement(event, updatedOwnerForm, id);\r\n    \r\n        const counter = formUtilityActions.countInvalidElements(updatedOwnerForm);\r\n    \r\n        this.setState({ ownerForm: updatedOwnerForm, isFormValid: counter === 0 })\r\n    }\r\n    redirectToOwnerList = () => {\r\n        this.props.history.push('/owner-List');\r\n    }\r\n    \r\n    updateOwner = (event) => {\r\n        event.preventDefault();\r\n    \r\n        const ownerToUpdate = {\r\n         name: this.state.ownerForm.name.value,\r\n        dateOfBirth: this.state.ownerForm.dateOfBirth.value,\r\n        address: this.state.ownerForm.address.value\r\n        }\r\n    \r\n        const url = \"/api/owner/\" + this.props.data.id;\r\n    \r\n        this.props.onUpdateOwner(url, ownerToUpdate, {...this.props});\r\n    }\r\n    render() {\r\n        const formElementsArray = formUtilityActions.convertStateToArrayOfFormObjects({ ...this.state.ownerForm });\r\n        return (\r\n            <Well>\r\n                <Form horizontal onSubmit={this.updateOwner}>\r\n    {\r\n\tformElementsArray.map(element => {\r\n\t\treturn <Input key={element.id} elementType={element.config.element}\r\n\t\t\tid={element.id} label={element.config.label}\r\n\t\t\ttype={element.config.type} value={element.config.value}\r\n\t\t\tchanged={(event) => this.handleChangeEvent(event, element.id)}\r\n\t\t\terrorMessage={element.config.errorMessage} invalid={!element.config.valid}\r\n\t\t\tshouldValidate={element.config.validation}\r\n\t\t\ttouched={element.config.touched}\r\n\t\t\tblur={(event) => this.handleChangeEvent(event, element.id)} />\r\n\t})\r\n    }\r\n    <br />\r\n    <FormGroup>\r\n\t<Col mdOffset={6} md={1}>\r\n\t\t<Button type='submit' bsStyle='info' disabled={!this.state.isFormValid}>Update</Button>\r\n\t</Col>\r\n\t<Col md={1}>\r\n\t\t<Button bsStyle='danger' onClick={this.redirectToOwnerList}>Cancel</Button>\r\n\t</Col>\r\n    </FormGroup>\r\n</Form>\r\n<SuccessModal show={this.props.showSuccessModal} modalHeaderText={'Success message'}\r\n\tmodalBodyText={'Action completed successfully'}\r\n\tokButtonText={'OK'}\r\n\tsuccessClick={() => this.props.onCloseSuccessModal('/owner-List', { ...this.props })} />\r\n<ErrorModal show={this.props.showErrorModal} modalHeaderText={'Error message'}\r\n\tmodalBodyText={this.props.errorMessage}\r\n\tokButtonText={'OK'}\r\n\tcloseModal={() => this.props.onCloseErrorModal()} />\r\n            </Well>\r\n        )\r\n    }\r\n}\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        data: state.repository.data,\r\n        showSuccessModal: state.repository.showSuccessModal,\r\n        showErrorModal: state.errorHandler.showErrorModal,\r\n        errorMessage: state.errorHandler.errorMessage\r\n    }\r\n}\r\n    const mapDispatchToProps = (dispatch) => {\r\n        return {\r\n            onGetOwnerById: (url, props) => dispatch(repositoryActions.getData(url, props)),\r\n            onUpdateOwner: (url, owner, props) => dispatch(repositoryActions.putData(url, owner, props)),\r\n            onCloseSuccessModal: (url, props) => dispatch(repositoryActions.closeSuccessModal(url, props)),\r\n            onCloseErrorModal: () => dispatch(errorHandlerActions.closeErrorModal())\r\n        }\r\n    }\r\n\r\n    export default connect(mapStateToProps, mapDispatchToProps)(UpdateOwner);"],"sourceRoot":""}